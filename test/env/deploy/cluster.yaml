---
apiVersion: contrail.juniper.net/v1alpha1
kind: Manager
metadata:
  name: cluster1
  namespace: contrail
spec:
  commonConfiguration:
    hostNetwork: true
    replicas: 1
  services:
    command:
      metadata:
        name: command
      spec:
        commonConfiguration:
          activate: true
          create: true
          hostNetwork: true
          tolerations:
            - effect: NoSchedule
              operator: Exists
            - effect: NoExecute
              operator: Exists
          nodeSelector:
            node-role.kubernetes.io/master: ""
        serviceConfiguration:
          configAPIURL: https://kind-control-plane:8082
          telemetryURL: https://kind-control-plane:8081
          postgresInstance: postgres
          adminUsername: admin
          adminPassword: contrail123
          containers:
            api:
              image: registry:5000/contrail-command:1912-latest
            init:
              image: registry:5000/contrail-command:1912-latest
    postgres:
      metadata:
        name: postgres
      spec:
        containers:
          postgres: 
            image: registry:5000/postgres

